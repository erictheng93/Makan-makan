# 產品需求文檔 (PRD)
## MakanMakan 智慧雲端點餐平台

**版本**: v1.0  
**最後更新**: 2025年8月  
**負責人**: 產品團隊  

---

## 1. 產品概述

### 1.1 產品願景
成為亞太地區中小型餐飲業者的首選數位化夥伴，透過創新的雲端技術，讓每一家餐廳都能輕鬆享受數位化帶來的高效與便利。

### 1.2 問題陳述
中小型餐飲業者在數位化轉型中面臨三大痛點：
- **高成本**：傳統POS系統動輒數萬元，對小店負擔沉重
- **複雜操作**：現有系統功能繁雜，學習成本高
- **維護困難**：缺乏技術人員，系統故障影響營運

消費者痛點：
- **效率低下**：排隊點餐、等待服務耗時
- **體驗不佳**：無法預估等候時間，結帳繁瑣

### 1.3 產品定位
零成本起步、極致輕量、操作直覺的 SaaS 點餐解決方案

### 1.4 目標市場
- **主要市場**：台灣地區50-200坪中小型餐廳
- **次要市場**：咖啡廳、早餐店、小吃店
- **市場規模**：台灣約3萬家符合條件的餐飲店

---

## 2. 產品目標與成功指標

### 2.1 階段性目標

#### MVP 階段（0-3個月）
- **目標**：驗證核心價值假設
- **里程碑**：10家餐廳上線，處理日均100筆訂單
- **範圍**：基礎點餐流程 + 商家管理後台

#### 成長階段（3-12個月）
- **目標**：產品市場契合度
- **里程碑**：100家活躍餐廳，建立付費模式
- **範圍**：多角色權限系統 + 進階功能

#### 規模化階段（12-24個月）
- **目標**：市場領導地位
- **里程碑**：1000家活躍餐廳，穩定營收
- **範圍**：會員系統 + 數據分析 + API開放

### 2.2 成功指標

#### 北極星指標
**月活躍餐廳數 (MAR - Monthly Active Restaurants)**

#### 關鍵指標
| 指標類型 | 指標名稱 | 目標值 | 追蹤頻率 |
|---------|---------|--------|----------|
| 業務指標 | 平台總交易額 (GMV) | 成長30% MoM | 每週 |
| 使用指標 | 日均訂單數 | >1000筆/日 | 每日 |
| 留存指標 | 餐廳30日留存率 | >70% | 每月 |
| 轉換指標 | 免費轉付費率 | >15% | 每月 |
| 營運指標 | 系統可用性 | >99.9% | 即時 |

---

## 3. 目標用戶分析

### 3.1 核心用戶角色

#### 餐廳老闆（決策者）- 王老闆
**基本資訊**
- 年齡：45歲
- 經驗：經營社區餐館10年
- 特徵：事必躬親、技術接受度中等

**痛點**
- 人手不足，高峰期易出錯
- 不懂技術，害怕複雜系統
- 預算有限，需要投資回報

**需求**
- 零學習成本的直覺操作
- 簡潔明瞭的營收報表
- 免費或低成本方案

**使用場景**
- 每日查看營業報表
- 新增/修改菜單品項
- 管理員工帳號權限

#### 餐廳員工（執行者）- 小美
**基本資訊**
- 年齡：22歲
- 職位：服務生
- 特徵：熟悉手機操作、追求效率

**痛點**
- 手寫單易出錯且字跡難辨
- 尖峰時段多工處理壓力大
- 缺乏即時狀態更新

**需求**
- 訂單提醒功能（聲音+視覺）
- 清晰的訂單狀態顯示
- 快速的操作回饋

#### 消費者（使用者）- 張先生
**基本資訊**
- 年齡：30歲
- 職業：上班族
- 特徵：重視效率、技術接受度高

**痛點**
- 排隊等候耗費時間
- 無法預估等候時間
- 結帳流程繁瑣

**需求**
- 掃碼即用，無需下載App
- 即時了解餐點準備進度
- 支援線上支付

### 3.2 用戶旅程地圖

#### 消費者用戶旅程
```
發現餐廳 → 入座掃碼 → 瀏覽菜單 → 選擇餐點 → 提交訂單 → 等候用餐 → 用餐完畢 → 結帳離開
    ↓         ↓         ↓         ↓         ↓         ↓         ↓         ↓
  搜尋推薦   QR掃描    圖文菜單   加入購物車   訂單確認   狀態更新   用餐體驗   支付完成
```

#### 商家用戶旅程
```
註冊試用 → 基本設定 → 菜單建置 → 員工訓練 → 正式上線 → 日常營運 → 數據分析 → 付費升級
    ↓         ↓         ↓         ↓         ↓         ↓         ↓         ↓
  快速註冊   店鋪資料   品項上架   功能熟悉   QR碼部署   接單管理   報表查看   方案選擇
```

---

## 4. 功能需求規格

### 4.1 功能架構圖
```
MakanMakan 平台
├── 消費者端 (Customer App)
│   ├── 掃碼點餐
│   ├── 菜單瀏覽
│   ├── 購物車管理
│   └── 訂單追蹤
├── 商家端 (Merchant Dashboard)
│   ├── 訂單管理
│   ├── 菜單管理  
│   ├── 店鋪設定
│   └── 報表分析
└── 管理端 (Admin Panel)
    ├── 多角色權限
    ├── 員工管理
    └── 系統設定
```

### 4.2 MVP 核心功能

#### Epic 1: 消費者點餐流程 🔥
**優先級**：P0（必須）

**User Story 1.1**: QR Code 掃碼進入
- **作為**消費者，**我希望**掃描桌上QR Code，**以便**直接進入該餐廳的點餐頁面
- **驗收標準**：
  - [ ] 掃碼後2秒內載入完成
  - [ ] 自動識別餐廳ID和桌號
  - [ ] 支援iOS/Android原生相機和第三方掃碼App
  - [ ] 錯誤碼有友善提示訊息

**User Story 1.2**: 菜單瀏覽體驗
- **作為**消費者，**我希望**瀏覽圖文並茂的菜單，**以便**快速找到想要的餐點
- **驗收標準**：
  - [ ] 支援分類篩選（主食/飲品/甜點等）
  - [ ] 菜品顯示：名稱、價格、圖片、描述
  - [ ] 售罄商品明顯標示且無法選擇
  - [ ] 圖片支援點擊放大
  - [ ] 支援搜尋功能

**User Story 1.3**: 購物車與客製化
- **作為**消費者，**我希望**將餐點加入購物車並自訂選項，**以便**按照個人喜好點餐
- **驗收標準**：
  - [ ] 數量調整（+/-按鈕）
  - [ ] 客製化選項（甜度/冰塊/辣度等）
  - [ ] 特殊備註輸入框
  - [ ] 即時計算總金額
  - [ ] 購物車icon顯示商品數量

**User Story 1.4**: 訂單提交與追蹤
- **作為**消費者，**我希望**提交訂單後能即時追蹤狀態，**以便**了解餐點準備進度
- **驗收標準**：
  - [ ] 產生唯一訂單編號
  - [ ] 狀態更新：已接單→製作中→準備完成
  - [ ] 狀態變更時頁面自動刷新
  - [ ] 預估等候時間顯示
  - [ ] 支援訂單取消（限制時間內）

#### Epic 2: 商家後台管理 🔥
**優先級**：P0（必須）

**User Story 2.1**: 訂單接收與提醒
- **作為**餐廳老闆，**我希望**即時接收新訂單並有明顯提醒，**以便**不遺漏任何訂單
- **驗收標準**：
  - [ ] 新訂單聲音提醒（可開關）
  - [ ] 頁面頂部通知banner
  - [ ] 訂單列表按時間倒序
  - [ ] 未處理訂單紅色標示
  - [ ] 手機推送通知支援

**User Story 2.2**: 訂單狀態管理  
- **作為**餐廳員工，**我希望**查看訂單詳情並更新狀態，**以便**與消費者同步進度
- **驗收標準**：
  - [ ] 點擊展開完整訂單資訊
  - [ ] 狀態按鈕：接單/拒絕/製作中/完成
  - [ ] 拒絕訂單需填寫理由
  - [ ] 狀態同步至消費者端
  - [ ] 批量操作支援

**User Story 2.3**: 菜單管理
- **作為**餐廳老闆，**我希望**輕鬆管理菜單品項，**以便**靈活調整商品供應
- **驗收標準**：
  - [ ] CRUD操作：新增/編輯/刪除/上下架
  - [ ] 圖片上傳（支援多張）
  - [ ] 價格、描述、分類設定
  - [ ] 庫存管理（可選）
  - [ ] 批量匯入功能

**User Story 2.4**: 店鋪基本設定
- **作為**餐廳老闆，**我希望**設定店鋪資訊並產生桌台QR Code，**以便**顧客能正確點餐
- **驗收標準**：
  - [ ] 店鋪資料：名稱/地址/電話/營業時間
  - [ ] 桌號設定（1-999）
  - [ ] QR Code批量生成與下載
  - [ ] QR Code樣式客製化
  - [ ] 桌台狀態管理（空桌/佔用）

### 4.3 第二階段功能

#### Epic 3: 多角色權限系統 🔥
**優先級**：P1（重要）

##### 3.1 權限矩陣設計

| 功能模組 | 店主 | 廚師 | 服務員 | 收銀員 |
|---------|------|------|--------|--------|
| 訂單查看 | ✅ 全部 | ✅ 廚房 | ✅ 外場 | ✅ 結帳 |
| 訂單狀態 | ✅ 全部 | ✅ 製作狀態 | ✅ 送達狀態 | ✅ 付款狀態 |
| 菜單管理 | ✅ | ❌ | ❌ | ❌ |
| 員工管理 | ✅ | ❌ | ❌ | ❌ |
| 報表查看 | ✅ | ❌ | ❌ | ✅ 當日 |
| 桌台管理 | ✅ | ❌ | ✅ | ✅ |

##### 3.2 角色專屬介面

**廚房顯示系統 (Kitchen Display System)**
- 深色主題，適應廚房環境
- 大字體，觸控友善
- 僅顯示製作相關資訊
- 自動語音播報新訂單

**服務員介面 (Service Dashboard)**
- 即時更新準備完成的餐點
- 桌號與餐點對應清單
- 一鍵標記送達狀態
- 桌台狀態一覽

**收銀終端 (Cashier Terminal)**
- 快速桌號查詢
- 訂單金額摘要顯示
- 支付方式選擇
- 當班營收統計

#### Epic 4: 進階功能 🔥
**優先級**：P2（建議）

**會員積點系統**
- 顧客註冊與登入
- 消費積分累積
- 積分兌換優惠
- 會員等級制度

**營業數據分析**
- 日/週/月營收報表
- 熱銷商品排行
- 客流量分析
- 成本利潤計算

**庫存管理系統**
- 原料庫存追蹤
- 自動售罄提醒
- 採購需求提醒
- 成本控制分析

---

## 5. 非功能性需求

### 5.1 效能需求
| 指標 | 目標值 | 測量方法 |
|------|--------|----------|
| 頁面載入時間 | < 2秒 | 首次載入完成 |
| API響應時間 | P99 < 300ms | 核心API監控 |
| 圖片載入時間 | < 1秒 | CDN快取命中 |
| 並發支援 | 1000+ QPS | 壓力測試 |

### 5.2 可用性需求
- **系統可用性**：>99.9% (年停機時間<8.76小時)
- **災難復原**：RTO < 4小時，RPO < 1小時
- **監控告警**：核心服務故障5分鐘內通知
- **版本部署**：支援藍綠部署，零停機更新

### 5.3 安全性需求
- **資料傳輸**：全站HTTPS (TLS 1.3)
- **資料儲存**：密碼Argon2雜湊，敏感資料加密
- **存取控制**：OAuth 2.0 + JWT Token
- **安全標準**：遵循OWASP Top 10
- **資料備份**：每日自動備份，異地儲存

### 5.4 擴展性需求
- **架構設計**：微服務架構，無狀態設計
- **資料庫**：讀寫分離，核心表建立索引
- **快取策略**：Redis快取熱點資料
- **CDN**：Cloudflare全球節點
- **容器化**：Docker + Kubernetes部署

### 5.5 相容性需求
- **瀏覽器**：Chrome 90+, Safari 14+, Firefox 88+
- **行動裝置**：iOS 14+, Android 8+
- **響應式設計**：支援320px-1920px螢幕寬度
- **網路環境**：2G/3G/4G/5G/WiFi

---

## 6. 技術架構概要

### 6.1 系統架構圖
```
                    ┌─────────────┐
                    │   CDN/WAF   │
                    │  Cloudflare │
                    └─────────────┘
                           │
                    ┌─────────────┐
                    │ Load Balancer│
                    │   (Nginx)   │
                    └─────────────┘
                           │
        ┌──────────────────┼──────────────────┐
        │                  │                  │
 ┌─────────────┐  ┌─────────────┐  ┌─────────────┐
 │   Web App   │  │   API App   │  │ Admin App   │
 │  (Vue.js)   │  │  (Node.js)  │  │  (React)    │
 └─────────────┘  └─────────────┘  └─────────────┘
                           │
                    ┌─────────────┐
                    │    Redis    │
                    │   (Cache)   │
                    └─────────────┘
                           │
                    ┌─────────────┐
                    │   Database  │
                    │  (MySQL)    │
                    └─────────────┘
```

### 6.2 核心技術棧
- **前端**：Vue.js 3 + TypeScript + Tailwind CSS
- **後端**：Node.js + Express + TypeScript  
- **資料庫**：MySQL 8.0 + Redis 6.2
- **部署**：Docker + Kubernetes + CI/CD
- **監控**：Prometheus + Grafana + ELK Stack

---

## 7. 專案規劃

### 7.1 開發時程
```gantt
title MakanMakan 開發時程
dateFormat  YYYY-MM-DD
section MVP階段
需求確認           :done, des1, 2025-08-01, 2025-08-07
UI/UX設計         :done, des2, 2025-08-07, 2025-08-21
後端API開發       :active, dev1, 2025-08-21, 2025-09-15
前端界面開發      :active, dev2, 2025-08-21, 2025-09-15
整合測試          :test1, 2025-09-15, 2025-09-25
試營運            :pilot, 2025-09-25, 2025-10-25

section 成長階段
多角色系統        :dev3, 2025-10-25, 2025-11-25
進階功能開發      :dev4, 2025-11-25, 2025-12-25
效能最佳化        :opt1, 2025-12-25, 2026-01-15
```

### 7.2 資源需求
| 角色 | 人數 | 參與時間 |
|------|------|----------|
| 產品經理 | 1 | 全程參與 |
| UI/UX設計師 | 1 | 前期密集，後期支援 |
| 前端工程師 | 2 | 全程參與 |
| 後端工程師 | 2 | 全程參與 |
| QA測試工程師 | 1 | 中後期參與 |
| DevOps工程師 | 1 | 中後期參與 |

### 7.3 里程碑檢查點
- **Week 4**: API設計評審
- **Week 8**: UI/UX設計評審  
- **Week 12**: MVP功能開發完成
- **Week 16**: 內部測試完成
- **Week 20**: 試營運開始

---

## 8. 風險評估與應對策略

### 8.1 技術風險
| 風險項目 | 機率 | 影響 | 應對策略 |
|---------|------|------|----------|
| 效能瓶頸 | 中 | 高 | 提前壓測，架構預留擴展空間 |
| 資料遺失 | 低 | 高 | 多重備份，定期災難演練 |
| 安全漏洞 | 中 | 中 | 定期安全測試，遵循安全最佳實踐 |

### 8.2 市場風險  
| 風險項目 | 機率 | 影響 | 應對策略 |
|---------|------|------|----------|
| 競品威脅 | 高 | 中 | 持續創新，建立差異化優勢 |
| 需求變化 | 中 | 中 | 敏捷開發，快速迭代 |
| 法規變更 | 低 | 高 | 關注政策動向，預留調整空間 |

### 8.3 營運風險
| 風險項目 | 機率 | 影響 | 應對策略 |
|---------|------|------|----------|
| 客戶流失 | 中 | 高 | 優化用戶體驗，建立客服機制 |
| 成本超支 | 中 | 中 | 嚴格預算控制，分階段投入 |
| 人員流動 | 中 | 中 | 完善文件，知識交接機制 |

---

## 9. 品質標準與測試策略

### 9.1 測試覆蓋率要求
- **單元測試**：覆蓋率 > 80%
- **整合測試**：核心API 100%覆蓋
- **端對端測試**：主要用戶流程100%覆蓋
- **效能測試**：核心場景壓力測試

### 9.2 品質檢查點
- **程式碼審查**：所有PR需要Review
- **自動化測試**：CI/CD流程整合
- **安全掃描**：SAST/DAST定期執行
- **可用性測試**：真實用戶環境驗證

---

## 10. 後續規劃

### 10.1 產品路線圖
- **Q1 2026**：會員系統與營銷工具
- **Q2 2026**：供應鏈管理模組
- **Q3 2026**：商業智能分析平台
- **Q4 2026**：API生態系統建置

### 10.2 國際化考量
- **語言支援**：繁中、簡中、英文、日文
- **在地化功能**：支付方式、稅務法規
- **文化適應**：UI設計、用戶習慣

---

## 附錄

### A. 詞彙表
| 術語 | 定義 |
|------|------|
| KDS | Kitchen Display System，廚房顯示系統 |
| MAR | Monthly Active Restaurants，月活躍餐廳數 |
| GMV | Gross Merchandise Volume，總交易額 |
| QPS | Queries Per Second，每秒查詢數 |
| RTO | Recovery Time Objective，恢復時間目標 |
| RPO | Recovery Point Objective，恢復點目標 |

### B. 參考資料
- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [Web Content Accessibility Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)
- [Google PageSpeed Insights](https://developers.google.com/speed/pagespeed/insights/)

---

**文檔狀態**: ✅ 已完成  
**核准狀態**: 🔄 待核准  
**下次更新**: 根據開發進度與市場反饋調整